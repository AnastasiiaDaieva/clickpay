{"version":3,"file":"static/js/admin-view.c25e9f0f.chunk.js","mappings":"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","sources":["data/constants/transactionStatus.js","webpack://clickpay-frontend/./src/components/Admin/Status/Status.module.scss?00e8","webpack://clickpay-frontend/./src/components/Admin/ConfirmModal/ConfirmModal.module.scss?5cdc","components/Admin/ConfirmModal/ConfirmModal.js","components/Admin/Status/Status.js","components/Admin/AdminTable/AdminTable.js","webpack://clickpay-frontend/./src/views/AdminView.module.scss?8072","webpack://clickpay-frontend/./src/components/Admin/AdminLogout/AdminLogout.module.scss?70fb","components/Admin/AdminLogout/AdminLogout.js","webpack://clickpay-frontend/./src/components/Admin/Filter/Filter.module.scss?cf07","components/Admin/Filter/Filter.js","webpack://clickpay-frontend/./src/components/Admin/Search/Search.module.scss?53c1","components/Admin/Search/Search.js","components/Admin/AdminTable/PaginatedTransactions.js","webpack://clickpay-frontend/./src/components/Admin/LoginForm/LoginForm.module.scss?c35b","components/Admin/LoginForm/LoginForm.js","api/getTransactions.js","views/AdminView.js","hooks/useToken.js"],"sourcesContent":["export default Object.freeze({\r\n  pending: \"pending\",\r\n  rejected: \"rejected\",\r\n  approved: \"approved\",\r\n});\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Status\":\"Status_Status__YNzkd\",\"Status__icons\":\"Status_Status__icons__jBri0\"};","// extracted by mini-css-extract-plugin\nexport default {\"ConfirmModal\":\"ConfirmModal_ConfirmModal__eRRAH\",\"ConfirmModal__close\":\"ConfirmModal_ConfirmModal__close__kjfFH\",\"ConfirmModal__heading\":\"ConfirmModal_ConfirmModal__heading__ktfcb\",\"ConfirmModal__button\":\"ConfirmModal_ConfirmModal__button__ScRJL\",\"ConfirmModal__text\":\"ConfirmModal_ConfirmModal__text__7zGvi\",\"ConfirmModal__body\":\"ConfirmModal_ConfirmModal__body__knu6v\"};","import { createPortal } from \"react-dom\";\r\nimport s from \"./ConfirmModal.module.scss\";\r\nimport { useEffect } from \"react\";\r\nimport { BiX } from \"react-icons/bi\";\r\nimport transactionStatus from \"data/constants/transactionStatus\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst modalRoot = document.getElementById(\"modal-root\");\r\n\r\nfunction ConfirmModal({ id, updStatus, status, setModalIsOpen }) {\r\n  const closeModal = () => {\r\n    setModalIsOpen(false);\r\n    document.body.style.overflow = \"unset\";\r\n  };\r\n\r\n  const confirmAction = (confirm) => {\r\n    if (confirm) {\r\n      updStatus(status, id);\r\n      setModalIsOpen(false);\r\n    } else {\r\n      setModalIsOpen(true);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleEscClose = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        closeModal();\r\n      }\r\n    };\r\n    window.addEventListener(\"keydown\", handleEscClose);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleEscClose);\r\n    };\r\n  });\r\n\r\n  const closeOverlay = (e) => {\r\n    if (e.currentTarget === e.target || e.code === \"Escape\") {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"overlay\" onClick={closeOverlay}>\r\n      <div className={s.ConfirmModal}>\r\n        <BiX className={s.ConfirmModal__close} onClick={closeModal} />\r\n        <div className={s.ConfirmModal__body}>\r\n          <p className={s.ConfirmModal__text}>\r\n            {\" \"}\r\n            Are you sure you want to{\" \"}\r\n            {status === transactionStatus.rejected ? \"reject\" : \"approve\"} the\r\n            transaction?\r\n          </p>\r\n          <div className={s.ConfirmModal__controllers}>\r\n            <Button\r\n              className={s.ConfirmModal__button}\r\n              onClick={() => confirmAction(true)}\r\n            >\r\n              Yes\r\n            </Button>\r\n            <Button\r\n              className={s.ConfirmModal__button}\r\n              onClick={() => confirmAction(false)}\r\n            >\r\n              No\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nexport default ConfirmModal;\r\n","import { BiX, BiDotsHorizontalRounded, BiCheck } from \"react-icons/bi\";\r\nimport { useState } from \"react\";\r\nimport s from \"./Status.module.scss\";\r\nimport ConfirmModal from \"../ConfirmModal/ConfirmModal\";\r\nimport transactionStatus from \"data/constants/transactionStatus\";\r\n\r\nfunction Status({ status, updStatus, id }) {\r\n  const { pending, rejected, approved } = transactionStatus;\r\n  const [showIcons, setShowIcons] = useState(false);\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const [chosenStatus, setChosenStatus] = useState(pending);\r\n  const handleClick = () => {\r\n    setShowIcons(true);\r\n  };\r\n  // updStatus(status, id);\r\n\r\n  const handleChoice = (status) => {\r\n    setChosenStatus(status);\r\n    setModalIsOpen(true);\r\n    setShowIcons(false);\r\n  };\r\n  return (\r\n    <div className={s.Status}>\r\n      {modalIsOpen && (\r\n        <ConfirmModal\r\n          updStatus={updStatus}\r\n          id={id}\r\n          status={chosenStatus}\r\n          setModalIsOpen={setModalIsOpen}\r\n        />\r\n      )}\r\n      {status === pending && <BiDotsHorizontalRounded onClick={handleClick} />}\r\n      {status === rejected && <BiX />}\r\n      {status === approved && <BiCheck />}{\" \"}\r\n      {showIcons && (\r\n        <div className={s.Status__icons}>\r\n          <BiX onClick={() => handleChoice(rejected)} />{\" \"}\r\n          <BiCheck onClick={() => handleChoice(approved)} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Status;\r\n","import { Table } from \"react-bootstrap\";\r\nimport Status from \"../Status/Status\";\r\n\r\nfunction AdminTable({ transactions, updStatus }) {\r\n  const headings = [\r\n    \"Time\",\r\n    \"Account\",\r\n    \"Amount\",\r\n    \"Card\",\r\n    \"Name\",\r\n    \"Status\",\r\n    \"Updated at\",\r\n  ];\r\n  const convertDate = (date) => {\r\n    const newDate = new Date(date)\r\n      .toISOString()\r\n      .substring(0, 10)\r\n      .split(\"-\")\r\n      .reverse()\r\n      .join(\".\");\r\n\r\n    const newTime = new Date(date).toISOString().substring(11, 19);\r\n    const array = newTime.split(\":\");\r\n    const hours = array[0] * 1 + 3;\r\n    const uaTime = [hours, array[1], array[2]].join(\":\");\r\n\r\n    const final = [uaTime, newDate].join(\", \");\r\n    return final;\r\n  };\r\n  return (\r\n    <Table responsive>\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          {headings.map((heading, index) => (\r\n            <th key={index}>{heading}</th>\r\n          ))}\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {transactions.map((item, index) => (\r\n          <tr key={item._id}>\r\n            <td>{index + 1}</td>\r\n            <td>{convertDate(item.createdAt)}</td>\r\n            <td>{item.account}</td>\r\n            <td>\r\n              {`${item.amount}`} {item.currency === \"euro\" ? \"€\" : \"$\"}\r\n            </td>\r\n            <td>{item.cardNumber}</td>\r\n            <td>{item.holderName}</td>\r\n            <td>\r\n              <Status\r\n                status={item.status}\r\n                updStatus={updStatus}\r\n                id={item._id}\r\n              />\r\n            </td>\r\n            <td>\r\n              {item.createdAt === item.updatedAt\r\n                ? \"-\"\r\n                : convertDate(item.updatedAt)}\r\n            </td>\r\n          </tr>\r\n        ))}\r\n      </tbody>\r\n    </Table>\r\n  );\r\n}\r\n\r\nexport default AdminTable;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"AdminView\":\"AdminView_AdminView__AlRC7\",\"AdminView__wrapper\":\"AdminView_AdminView__wrapper__VfSlU\"};","// extracted by mini-css-extract-plugin\nexport default {\"AdminLogout__button\":\"AdminLogout_AdminLogout__button__0y61i\",\"AdminLogout\":\"AdminLogout_AdminLogout__RYo0R\"};","import Navbar from \"react-bootstrap/Navbar\";\r\nimport { Container, Button } from \"react-bootstrap\";\r\nimport s from \"./AdminLogout.module.scss\";\r\nimport axios from \"axios\";\r\n\r\nfunction AdminLogout({ setToken, setTransactions }) {\r\n  const handleClick = async () => {\r\n    try {\r\n      await axios.get(\"/users/logout\");\r\n      setToken(\"\");\r\n      axios.defaults.headers.common.Authorization = \"\";\r\n    } catch (error) {\r\n      setToken(\"\");\r\n      setTransactions([]);\r\n      console.log(\"LOGOUT CATCH\", error);\r\n    }\r\n  };\r\n  return (\r\n    <Navbar className={s.AdminLogout}>\r\n      <Container>\r\n        <Button className={s.AdminLogout__button} onClick={handleClick}>\r\n          Log out\r\n        </Button>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\nexport default AdminLogout;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Filter\":\"Filter_Filter__ydlvw\"};","import { DropdownButton, Dropdown, InputGroup } from \"react-bootstrap\";\r\nimport { nanoid } from \"nanoid\";\r\nimport s from \"./Filter.module.scss\";\r\n\r\nfunction Filter({ filterOptions, handleFilter, filterOption }) {\r\n  return (\r\n    <div className={s.Filter}>\r\n      <InputGroup className=\"mb-3\">\r\n        <DropdownButton\r\n          variant=\"outline-secondary\"\r\n          title={filterOption.label}\r\n          id=\"input-group-dropdown-1\"\r\n          as={Dropdown}\r\n        >\r\n          {filterOptions.map((option) => (\r\n            <Dropdown.Item\r\n              href=\"#\"\r\n              onClick={() => handleFilter(option)}\r\n              key={nanoid()}\r\n            >\r\n              {option.label}{\" \"}\r\n            </Dropdown.Item>\r\n          ))}\r\n        </DropdownButton>\r\n      </InputGroup>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Filter;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"Search__input\":\"Search_Search__input__tVt0o\"};","import s from \"./Search.module.scss\";\r\nimport { BsXCircleFill } from \"react-icons/bs\";\r\n\r\nfunction Search({ setSearchQuery, searchQuery }) {\r\n  const onChange = (e) => {\r\n    localStorage.setItem(\"query\", e.currentTarget.value);\r\n    setSearchQuery(e.currentTarget.value);\r\n  };\r\n  return (\r\n    <div className={s.Search}>\r\n      {\" \"}\r\n      <label htmlFor=\"search\" className={s.Search}>\r\n        <input\r\n          id=\"search\"\r\n          type=\"text\"\r\n          placeholder=\"search query\"\r\n          onChange={onChange}\r\n          className={s.Search__input}\r\n          value={searchQuery}\r\n        />\r\n        {/* <button className={s.Filter__clear} onClick={onClear}>\r\n        <BsXCircleFill />\r\n      </button> */}\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n","import ReactPaginate from \"react-paginate\";\r\n\r\nfunction PaginatedTransactions({ pageCount, handlePageClick }) {\r\n  return (\r\n    <ReactPaginate\r\n      breakLabel=\"...\"\r\n      nextLabel=\"next\"\r\n      onPageChange={handlePageClick}\r\n      pageRangeDisplayed={5}\r\n      pageCount={pageCount}\r\n      previousLabel=\"previous\"\r\n      renderOnZeroPageCount={null}\r\n      marginPagesDisplayed={3}\r\n      containerClassName=\"pagination justify-content-center\"\r\n      pageClassName={\"page-item\"}\r\n      pageLinkClassName={\"page-link\"}\r\n      previousClassName={\"page-item\"}\r\n      previousLinkClassName={\"page-link\"}\r\n      nextClassName={\"page-item\"}\r\n      nextLinkClassName={\"page-link\"}\r\n      breakClassName={\"page-item\"}\r\n      breakLinkClassName={\"page-link\"}\r\n      activeClassName={\"active\"}\r\n    />\r\n  );\r\n}\r\nexport default PaginatedTransactions;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"LoginForm__container\":\"LoginForm_LoginForm__container__rmx24\",\"LoginForm__button\":\"LoginForm_LoginForm__button__0MSnH\"};","import { Form, Button } from \"react-bootstrap\";\nimport { Container } from \"react-bootstrap\";\nimport s from \"./LoginForm.module.scss\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\n\nfunction LoginForm({ setToken }) {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm();\n\n  const onSubmit = async (data) => {\n    try {\n      const { email, password } = data;\n      const response = await axios.post(\"/users/login\", {\n        email,\n        password,\n      });\n      console.log(response);\n      setToken(response.data.user.token);\n\n      axios.defaults.headers.common.Authorization = `Bearer ${response.data.user.token}`;\n    } catch (error) {\n      console.log(\"LOGIN CATCH\", error);\n    }\n\n    reset();\n  };\n  return (\n    <div className={s.LoginForm__container}>\n      {\" \"}\n      <Container>\n        <Form onSubmit={handleSubmit(onSubmit)}>\n          <h2 style={{ marginBottom: \"30px\" }}>Sign in</h2>\n          <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n            <Form.Label>Email address</Form.Label>\n            <Form.Control\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Email\"\n              {...register(\"email\", {\n                required: true,\n              })}\n            />\n            {errors.email && <span>Fill the entry</span>}\n          </Form.Group>\n\n          <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n            <Form.Label>Password</Form.Label>\n            <Form.Control\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Password\"\n              {...register(\"password\", {\n                required: true,\n              })}\n            />{\" \"}\n            {errors.password && <span>Fill the entry</span>}\n          </Form.Group>\n\n          <Button\n            variant=\"primary\"\n            type=\"submit\"\n            className={s.LoginForm__button}\n          >\n            Login\n          </Button>\n        </Form>\n      </Container>\n    </div>\n  );\n}\n\nexport default LoginForm;\n","import axios from \"axios\";\r\n\r\nconst getTransactions = async (page, itemsPerPage, token, setToken) => {\r\n  try {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n    const response = await axios.get(\r\n      `/transactions?page=${page}&limit=${itemsPerPage}`\r\n    );\r\n    return response;\r\n  } catch (error) {\r\n    if (error?.response.data.message.toLowerCase() === \"not authorized\") {\r\n      console.log(\"401\");\r\n      setToken(\"\");\r\n      sessionStorage.setItem(\"token\", JSON.stringify(\"\"));\r\n    } else {\r\n      console.log(\"GET ORIGINAL CATCH\", error.response.data.message);\r\n    }\r\n  }\r\n};\r\n\r\nexport default getTransactions;\r\n","import AdminTable from \"components/Admin/AdminTable/AdminTable\";\r\nimport { useState, useEffect, lazy } from \"react\";\r\nimport s from \"./AdminView.module.scss\";\r\nimport axios from \"axios\";\r\nimport Loader from \"components/Loader/Loader\";\r\nimport AdminLogout from \"components/Admin/AdminLogout/AdminLogout\";\r\nimport Filter from \"components/Admin/Filter/Filter\";\r\nimport Search from \"components/Admin/Search/Search\";\r\nimport PaginatedTransactions from \"components/Admin/AdminTable/PaginatedTransactions\";\r\nimport useToken from \"hooks/useToken\";\r\nimport LoginForm from \"components/Admin/LoginForm/LoginForm\";\r\nimport getTransactions from \"api/getTransactions\";\r\nimport filterOptions from \"data/filterOptions.json\";\r\nimport transactionStatus from \"data/constants/transactionStatus\";\r\n\r\nfunction AdminView() {\r\n  const { pending, rejected, approved } = transactionStatus;\r\n\r\n  const { token, setToken } = useToken();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [transactions, setTransactions] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [pageCount, setPageCount] = useState(1);\r\n  const [filterOption, setFilterOption] = useState(filterOptions[0]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 25;\r\n\r\n  //  handlers\r\n  const handleFilter = async (option) => {\r\n    if (token) {\r\n      setIsLoading(true);\r\n      localStorage.setItem(\"filter\", JSON.stringify(option));\r\n      setFilterOption(option);\r\n      await axios\r\n        .get(\r\n          option.value === \"all\"\r\n            ? `/transactions?page=${currentPage}&limit=${itemsPerPage}`\r\n            : `/transactions/status/${option.value}?page=${currentPage}&limit=${itemsPerPage}`\r\n        )\r\n        .then((res) => {\r\n          setPageCount(Math.ceil(res.data.totalNumber / itemsPerPage));\r\n          const data = res.data.transactions;\r\n\r\n          setTransactions(data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"FILTER CATCH\", error.response.data.message);\r\n          if (error.response.data.message.toLowerCase() === \"not authorized\") {\r\n            console.log(401);\r\n          }\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  };\r\n\r\n  const handlePageClick = async (event) => {\r\n    setIsLoading(true);\r\n\r\n    let currPage = event.selected + 1;\r\n\r\n    getTransactions(currPage, itemsPerPage, token, setToken)\r\n      .then((res) => res.data.transactions)\r\n      .then((newTrns) => {\r\n        // console.log(newTrns);\r\n        const newArray = newTrns;\r\n        setTransactions(newArray);\r\n        setCurrentPage(currPage);\r\n      })\r\n      .finally(() => setIsLoading(false));\r\n  };\r\n\r\n  const updStatus = (newStatus, id) => {\r\n    if (token) {\r\n      setIsLoading(true);\r\n      // console.log(newStatus);\r\n\r\n      axios\r\n        .patch(`/transactions/${id}/status`, {\r\n          status: newStatus,\r\n        })\r\n\r\n        .then((trn) => {\r\n          // console.log(trn);\r\n          const idx = transactions.findIndex((item) => item._id === id);\r\n          // console.log(\"obj\", idx);\r\n          let items = [...transactions];\r\n          let item = { ...transactions[idx] };\r\n\r\n          item.status = trn.data.status;\r\n          item.updatedAt = trn.data.updatedAt;\r\n\r\n          items[idx] = item;\r\n          setTransactions(items);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"UPDSTATUS CATCH\", error);\r\n          if (error.response.data.message.toLowerCase() === \"not authorized\") {\r\n            setToken(\"\");\r\n            console.log(401);\r\n          }\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    }\r\n  };\r\n  const getVisibleTransactions = () => {\r\n    const normalizedFilter = searchQuery.toLowerCase().trim();\r\n    // console.log(normalizedFilter);\r\n    if (transactions) {\r\n      // console.log(transactions);\r\n      return transactions.filter(\r\n        (trn) =>\r\n          trn.holderName.toLowerCase().includes(normalizedFilter) ||\r\n          trn.account.toString().includes(searchQuery.trim())\r\n      );\r\n    }\r\n  };\r\n  const visibleTransactions = getVisibleTransactions();\r\n  // console.log(\"visible\", visibleTransactions);\r\n\r\n  // useEffects\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n\r\n    const setFilter = localStorage.getItem(\"filter\");\r\n    if (setFilter) {\r\n      const currentFilter = JSON.parse(setFilter);\r\n      setFilterOption(currentFilter);\r\n    } else {\r\n      localStorage.setItem(\"filter\", JSON.stringify(filterOptions[0]));\r\n      console.log(filterOptions[0]);\r\n    }\r\n\r\n    const setQuery = localStorage.getItem(\"query\");\r\n    if (setQuery) {\r\n      setSearchQuery(setQuery);\r\n    }\r\n\r\n    setIsLoading(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (token) {\r\n      setIsLoading(true);\r\n      const getLocalStorage = JSON.parse(localStorage.getItem(\"filter\"));\r\n\r\n      getTransactions(currentPage, itemsPerPage, token, setToken)\r\n        .then((res) => {\r\n          // console.log(res);\r\n\r\n          const data = res.data.transactions.sort((a, b) =>\r\n            b.createdAt.localeCompare(a.createdAt)\r\n          );\r\n          // console.log(\"SORTED\", data);\r\n\r\n          const filtered = data.filter((item) => {\r\n            if (getLocalStorage.value === pending) {\r\n              return item.status === pending;\r\n            } else if (getLocalStorage.value === rejected) {\r\n              return item.status === rejected;\r\n            } else if (getLocalStorage.value === approved) {\r\n              return item.status === approved;\r\n            } else {\r\n              return data;\r\n            }\r\n          });\r\n          setTransactions(filtered);\r\n          setPageCount(Math.ceil(res.data.totalNumber / itemsPerPage));\r\n        })\r\n        .finally(() => setIsLoading(false));\r\n    } else {\r\n      sessionStorage.setItem(\"token\", JSON.stringify(\"\"));\r\n\r\n      axios.defaults.headers.common.Authorization = \"\";\r\n    }\r\n  }, [token]);\r\n\r\n  return (\r\n    <>\r\n      {!token ? (\r\n        <LoginForm setToken={setToken} />\r\n      ) : (\r\n        <div className={s.AdminView}>\r\n          {isLoading && <Loader />}\r\n\r\n          <div>\r\n            <div className={s.AdminView__wrapper}>\r\n              <Search\r\n                setSearchQuery={setSearchQuery}\r\n                searchQuery={searchQuery}\r\n              />\r\n              <Filter\r\n                filterOptions={filterOptions}\r\n                filterOption={filterOption}\r\n                handleFilter={handleFilter}\r\n              />{\" \"}\r\n            </div>\r\n            <AdminLogout\r\n              setToken={setToken}\r\n              setTransactions={setTransactions}\r\n            />\r\n            <AdminTable\r\n              transactions={visibleTransactions}\r\n              updStatus={updStatus}\r\n            />\r\n            <PaginatedTransactions\r\n              itemsPerPage={itemsPerPage}\r\n              pageCount={pageCount}\r\n              handlePageClick={handlePageClick}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default AdminView;\r\n","import { useState } from \"react\";\r\n\r\nexport default function useToken() {\r\n  const getToken = () => {\r\n    const tokenString = sessionStorage.getItem(\"token\");\r\n    const userToken = JSON.parse(tokenString);\r\n    return userToken;\r\n  };\r\n  const [token, setToken] = useState(getToken());\r\n\r\n  const saveToken = (userToken) => {\r\n    sessionStorage.setItem(\"token\", JSON.stringify(userToken));\r\n    setToken(userToken);\r\n  };\r\n  return {\r\n    setToken: saveToken,\r\n    token,\r\n  };\r\n}\r\n"],"names":["Object","freeze","pending","rejected","approved","modalRoot","document","getElementById","id","updStatus","status","setModalIsOpen","closeModal","body","style","overflow","confirmAction","confirm","useEffect","handleEscClose","e","code","window","addEventListener","removeEventListener","createPortal","className","onClick","currentTarget","target","s","transactionStatus","Button","useState","showIcons","setShowIcons","modalIsOpen","chosenStatus","setChosenStatus","handleChoice","transactions","convertDate","date","newDate","Date","toISOString","substring","split","reverse","join","array","Table","responsive","map","heading","index","item","createdAt","account","amount","currency","cardNumber","holderName","_id","updatedAt","setToken","setTransactions","handleClick","axios","console","log","Navbar","Container","filterOptions","handleFilter","filterOption","InputGroup","DropdownButton","variant","title","label","as","Dropdown","option","href","nanoid","setSearchQuery","searchQuery","htmlFor","type","placeholder","onChange","localStorage","setItem","value","pageCount","handlePageClick","breakLabel","nextLabel","onPageChange","pageRangeDisplayed","previousLabel","renderOnZeroPageCount","marginPagesDisplayed","containerClassName","pageClassName","pageLinkClassName","previousClassName","previousLinkClassName","nextClassName","nextLinkClassName","breakClassName","breakLinkClassName","activeClassName","useForm","register","handleSubmit","reset","errors","formState","onSubmit","data","email","password","response","user","token","Form","marginBottom","controlId","name","required","getTransactions","page","itemsPerPage","message","toLowerCase","sessionStorage","JSON","stringify","tokenString","getItem","parse","getToken","userToken","useToken","isLoading","setIsLoading","setPageCount","setFilterOption","currentPage","setCurrentPage","then","res","Math","ceil","totalNumber","catch","error","finally","event","currPage","selected","newTrns","visibleTransactions","normalizedFilter","trim","filter","trn","includes","toString","getVisibleTransactions","setFilter","currentFilter","setQuery","getLocalStorage","sort","a","b","localeCompare","filtered","Loader","newStatus","idx","findIndex","items"],"sourceRoot":""}